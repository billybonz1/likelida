"use strict";(globalThis["webpackChunklikelida_project"]=globalThis["webpackChunklikelida_project"]||[]).push([[211],{3642:(s,e,t)=>{t.d(e,{f:()=>r});var a=t(1569),o=t(2136);const r={data(){return{store:null,msg:{email:!1,password:!1},reg:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}},beforeMount(){this.store=(0,o.J)(),this.isLogin()},methods:{validateEmail(){this.reg.test(this.email)?this.msg.email="":this.msg.email="Please enter a valid email address"},validatePassword(){this.password!==this.confirmPassword?this.msg.password="Passwords do not match":this.msg.password=""},async isLogin(){const s=await a.server.post("isLogin",{},{headers:{"Access-Control-Allow-Origin":"*"}});s.data.isLogin&&(this.store.setCurrentUser(s.data.user),this.$router.push("recipes"))}}}},2136:(s,e,t)=>{t.d(e,{J:()=>r});var a=t(3746),o=t(1569);const r=(0,a.Q_)("posts",{state:()=>({posts:null,ingredients:null,postSingle:null,currentUser:null}),getters:{getPosts:s=>(console.log("state.posts >>"),console.log(s.posts),s.posts),getIngredients:s=>(console.log("state.ingredients >>"),console.log(s.ingredients),s.ingredients),getPostSingle:s=>(console.log("state.postSingle >>"),console.log(s.postSingle),s.postSingle),getCurrentUser:s=>s.currentUser},actions:{setCurrentUser(s){this.currentUser=s},async loadAllPosts(){try{const s=await o.server.get("posts");return this.posts=s.data,!0}catch(s){if(s)throw s}},async loadPosts(s){try{const e=await o.server.get("posts-list",{params:{page:s}});return this.posts=e.data,!0}catch(e){if(e)throw e}},async loadAllIngredients(){try{const s=await o.server.get("ingredients");return this.ingredients=s.data,!0}catch(s){if(s)throw s}},async loadSearchByIngredients(s){try{const e=await o.server.get("search-by-ingredients?ids="+s);return this.ingredients=e.data.ingredients,this.posts=e.data.posts,!0}catch(e){if(e)throw e}},async loadSinglePost(s){try{const e=await o.server.get("posts/"+s);return this.postSingle=e.data.data,!0}catch(e){if(e)throw e}}},persist:!0})},9211:(s,e,t)=>{t.r(e),t.d(e,{default:()=>I});var a=t(9835),o=t(6970);const r={class:"mx-auto max-w-4xl mb-5 relative login-container"},i={class:"login-top"},l=(0,a._)("h5",{class:"login-header"},[(0,a.Uk)("Login with "),(0,a._)("span",null,"Email")],-1),n={class:"row items-center all-pointer-events"},d=(0,a._)("span",null,"Email",-1),c=(0,a.Uk)("Email address"),g={class:"row items-center all-pointer-events"},m=(0,a._)("span",null,"Password",-1),u=(0,a.Uk)("Password"),p={href:"#",class:"forgot-password"},h=(0,a._)("span",null,"Forgot your password?",-1),w=(0,a.Uk)(" LOGIN "),f={class:"login-bottom"},b=(0,a._)("span",null,"Do not have an account yet?",-1),v=(0,a.Uk)(" Registration ");function y(s,e,t,y,_,k){const P=(0,a.up)("q-btn"),U=(0,a.up)("q-icon"),C=(0,a.up)("q-tooltip"),x=(0,a.up)("q-input");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",i,[(0,a.Wm)(P,{class:"atv-back",flat:"",to:"/"}),l]),(0,a._)("div",null,[""!==_.message?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,o.C_)([{error:this.error,success:!this.error},"message"])},(0,o.zw)(_.message),3)):(0,a.kq)("",!0),(0,a.Wm)(x,{error:!!s.msg.email,"error-message":s.msg.email,onBlur:s.validateEmail,onKeyup:s.validateEmail,white:"",rounded:"",outlined:"",borderless:"",modelValue:_.email,"onUpdate:modelValue":e[0]||(e[0]=s=>_.email=s),"label-slot":"",clearable:"",class:"email-input text-white rounded-borders"},{prepend:(0,a.w5)((()=>[(0,a.Wm)(U,{class:"q-mr-xs",size:"24px",name:"mail"})])),label:(0,a.w5)((()=>[(0,a._)("div",n,[d,(0,a.Wm)(C,{class:"bg-grey-8",anchor:"top left",self:"bottom left",offset:[0,8]},{default:(0,a.w5)((()=>[c])),_:1})])])),_:1},8,["error","error-message","onBlur","onKeyup","modelValue"]),(0,a.Wm)(x,{rounded:"",outlined:"",modelValue:_.password,"onUpdate:modelValue":e[2]||(e[2]=s=>_.password=s),type:_.isPwd?"password":"text","label-slot":"",clearable:"",class:"mt-5 q-field--with-bottom"},{prepend:(0,a.w5)((()=>[(0,a.Wm)(U,{name:_.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[1]||(e[1]=s=>_.isPwd=!_.isPwd)},null,8,["name"])])),label:(0,a.w5)((()=>[(0,a._)("div",g,[m,(0,a.Wm)(C,{class:"bg-grey-8",anchor:"top left",self:"bottom left",offset:[0,8]},{default:(0,a.w5)((()=>[u])),_:1})])])),_:1},8,["modelValue","type"]),(0,a._)("a",p,[(0,a.Wm)(U,{name:"question_mark"}),h]),(0,a.Wm)(P,{loading:_.loading,onClick:e[3]||(e[3]=s=>k.login()),disable:k.disabledButton,class:"bg-primary login-btn",style:{color:"#fff",display:"block",margin:"0 auto"}},{default:(0,a.w5)((()=>[w])),_:1},8,["loading","disable"])]),(0,a._)("div",f,[b,(0,a.Wm)(P,{flat:"",to:"/register"},{default:(0,a.w5)((()=>[v])),_:1})])])}var _=t(499),k=t(3642),P=t(2136);const U={mixins:[k.f],data(){return{password:(0,_.iH)(""),isPwd:(0,_.iH)(!0),email:(0,_.iH)(""),loading:!1,error:!1,message:"",store:null,server:null}},mounted(){this.store=(0,P.J)(),this.server=this.$axios.create({baseURL:"https://likelida.com/api"})},computed:{disabledButton(){return!(""!==this.password&&""===this.msg.email)}},methods:{async login(){this.error=!1,this.message="";const s={email:this.email,password:this.password};this.loading=!0;const e=await this.server.post("login",s,{headers:{"Access-Control-Allow-Origin":"*"}});this.loading=!1,""!==e.data.error&&(this.error=!0,"Unauthorized"===e.data.error?this.message="Login data is not correct":this.message=e.data.error),!0===e.data.status&&(localStorage.setItem("token",e.data.access_token),this.$axios.defaults.headers.common.Authorization="Bearer "+e.data.access_token,this.store.setCurrentUser(e.data.user),this.$router.push("recipes")),console.log(e)}}};var C=t(1639),x=t(9379),W=t(6611),A=t(2857),S=t(6858),q=t(8149),L=t(9984),Z=t.n(L);const B=(0,C.Z)(U,[["render",y]]),I=B;Z()(U,"components",{QBtn:x.Z,QInput:W.Z,QIcon:A.Z,QTooltip:S.Z,QField:q.Z})}}]);