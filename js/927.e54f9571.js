"use strict";(globalThis["webpackChunklikelida_project"]=globalThis["webpackChunklikelida_project"]||[]).push([[927],{3642:(s,e,t)=>{t.d(e,{f:()=>i});var a=t(1569),r=t(2136);const i={data(){return{store:null,msg:{email:!1,password:!1},reg:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}},beforeMount(){this.store=(0,r.J)(),this.isLogin()},methods:{validateEmail(){this.reg.test(this.email)?this.msg.email="":this.msg.email="Please enter a valid email address"},validatePassword(){this.password!==this.confirmPassword?this.msg.password="Passwords do not match":this.msg.password=""},async isLogin(){const s=await a.server.post("isLogin",{},{headers:{"Access-Control-Allow-Origin":"*"}});s.data.isLogin&&(this.store.setCurrentUser(s.data.user),this.$router.push("recipes"))}}}},2136:(s,e,t)=>{t.d(e,{J:()=>i});var a=t(3746),r=t(1569);const i=(0,a.Q_)("posts",{state:()=>({posts:null,ingredients:null,postSingle:null,currentUser:null}),getters:{getPosts:s=>(console.log("state.posts >>"),console.log(s.posts),s.posts),getIngredients:s=>(console.log("state.ingredients >>"),console.log(s.ingredients),s.ingredients),getPostSingle:s=>(console.log("state.postSingle >>"),console.log(s.postSingle),s.postSingle),getCurrentUser:s=>s.currentUser},actions:{setCurrentUser(s){this.currentUser=s},async loadAllPosts(){try{const s=await r.server.get("posts");return this.posts=s.data,!0}catch(s){if(s)throw s}},async loadPosts(s){try{const e=await r.server.get("posts-list",{params:{page:s}});return this.posts=e.data,!0}catch(e){if(e)throw e}},async loadAllIngredients(){try{const s=await r.server.get("ingredients");return this.ingredients=s.data,!0}catch(s){if(s)throw s}},async loadSearchByIngredients(s){try{const e=await r.server.get("search-by-ingredients?ids="+s);return this.ingredients=e.data.ingredients,this.posts=e.data.posts,!0}catch(e){if(e)throw e}},async loadSinglePost(s){try{const e=await r.server.get("posts/"+s);return this.postSingle=e.data.data,!0}catch(e){if(e)throw e}}},persist:!0})},4927:(s,e,t)=>{t.r(e),t.d(e,{default:()=>Q});var a=t(9835),r=t(6970),i=t(1957);const o={class:"mx-auto max-w-4xl mb-5 relative login-container"},l={class:"login-top"},n=(0,a._)("h5",{class:"login-header"},"Registration",-1),d={class:"row items-center all-pointer-events"},c=(0,a._)("span",null,"Email",-1),g=(0,a.Uk)("Email address"),p={class:"row items-center all-pointer-events"},m=(0,a._)("span",null,"Password",-1),u=(0,a.Uk)("Password"),h={class:"reg-accept"},w={class:"ra-input"},f=(0,a._)("span",null,null,-1),v=(0,a._)("span",null,[(0,a.Uk)(" I report that I am over the age of 18 and I accept the "),(0,a._)("a",{href:"#"},"Terms of use of LikeLida"),(0,a.Uk)(" and submit that I read the "),(0,a._)("a",{href:"#"},"Privacy Policy")],-1),b={class:"login-bottom"},y=(0,a.Uk)(" Create account ");function _(s,e,t,_,P,k){const U=(0,a.up)("q-btn"),C=(0,a.up)("q-icon"),x=(0,a.up)("q-tooltip"),I=(0,a.up)("q-input");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",l,[(0,a.Wm)(U,{class:"atv-back",flat:"",to:"/"}),n]),(0,a._)("div",null,[""!==P.message?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,r.C_)([{error:this.error,success:!this.error},"message"])},(0,r.zw)(P.message),3)):(0,a.kq)("",!0),(0,a.Wm)(I,{error:!!s.msg.email,"error-message":s.msg.email,onBlur:s.validateEmail,onKeyup:s.validateEmail,white:"",rounded:"",outlined:"",borderless:"",modelValue:P.email,"onUpdate:modelValue":e[0]||(e[0]=s=>P.email=s),"label-slot":"",clearable:"",class:"email-input text-white rounded-borders"},{prepend:(0,a.w5)((()=>[(0,a.Wm)(C,{class:"q-mr-xs",size:"24px",name:"mail"})])),label:(0,a.w5)((()=>[(0,a._)("div",d,[c,(0,a.Wm)(x,{class:"bg-grey-8",anchor:"top left",self:"bottom left",offset:[0,8]},{default:(0,a.w5)((()=>[g])),_:1})])])),_:1},8,["error","error-message","onBlur","onKeyup","modelValue"]),(0,a.Wm)(I,{rounded:"",outlined:"",modelValue:P.password,"onUpdate:modelValue":e[2]||(e[2]=s=>P.password=s),type:P.isPwd?"password":"text","label-slot":"",clearable:"",class:"mt-5 q-field--with-bottom"},{prepend:(0,a.w5)((()=>[(0,a.Wm)(C,{name:P.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[1]||(e[1]=s=>P.isPwd=!P.isPwd)},null,8,["name"])])),label:(0,a.w5)((()=>[(0,a._)("div",p,[m,(0,a.Wm)(x,{class:"bg-grey-8",anchor:"top left",self:"bottom left",offset:[0,8]},{default:(0,a.w5)((()=>[u])),_:1})])])),_:1},8,["modelValue","type"]),(0,a._)("div",h,[(0,a._)("label",w,[(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=s=>P.accept=s)},null,512),[[i.e8,P.accept]]),f]),v])]),(0,a._)("div",b,[(0,a.Wm)(U,{loading:P.loading,onClick:e[4]||(e[4]=s=>k.register()),disable:k.disabledButton},{default:(0,a.w5)((()=>[y])),_:1},8,["loading","disable"])])])}var P=t(499),k=t(1569),U=t(3642),C=t(2136);const x={mixins:[U.f],mounted(){this.store=(0,C.J)()},data(){return{accept:!1,password:(0,P.iH)(""),confirmPassword:(0,P.iH)(""),isPwd:(0,P.iH)(!0),email:(0,P.iH)(""),store:null,message:"",error:!1,loading:!1}},computed:{disabledButton(){return!(""!==this.password&&""===this.msg.email&&!0===this.accept)}},methods:{async register(){this.error=!1,this.message="";const s={email:this.email,password:this.password};this.loading=!0;const e=await k.server.post("register",s,{headers:{"Access-Control-Allow-Origin":"*"}});this.loading=!1,e.data&&(this.error=!e.data.status,e.data.error?"validation.unique"===e.data.error&&(this.message="User with current email already exists"):this.message=e.data.message),console.log(this.error,this.message)}}};var I=t(1639),q=t(9379),A=t(6611),S=t(2857),W=t(6858),Z=t(8149),V=t(9984),B=t.n(V);const L=(0,I.Z)(x,[["render",_]]),Q=L;B()(x,"components",{QBtn:q.Z,QInput:A.Z,QIcon:S.Z,QTooltip:W.Z,QField:Z.Z})}}]);